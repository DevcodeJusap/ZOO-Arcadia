<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-Content-Type-Options" content="nosniff">
        <meta http-equiv="X-Frame-Options" content="DENY">
        <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains">        
        <link rel="icon" type="" href="image/presentation/logo.png">
        <title>Savane</title>
        <link rel="stylesheet" href="css/savane-marais-jungle.css"/>
        <link rel="stylesheet" href="css/likes.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
        
    </head>
    <body id="savane.html">
        <header>
            <a href="#" id="logo-link">
                <img src="image/presentation/logo.png" alt="Logo Zoo-Arcadia" id="logo">
            </a>
            <nav>
                <ul class="centered">
                    <li><button class="btn-headers accueil-btn" id="accueil-btn" onclick="location.href='index.html'">Accueil</button><div class="box"></div></li> 
                    <li><button class="btn-headers service-btn" id="service-btn" onclick="location.href='service.html'">Service</button></li> <span></span>
                    <li><button class="btn-headers habitat-btn" id="habitat-btn" onclick="location.href='habitat.html'">Habitat</button></li> <span></span>
                    <li><button class="btn-headers contact-btn" id="contact-btn" onclick="location.href='contact.html'">Contact</button></li> <span></span>
                </ul>
                <button class="btn-headers login-btn" id="login-btn" onclick="location.href='login.html'" style="float: right;">login</button> <span></span>
            </nav>
        </header>

        <main>
            <h1>La savane</h1>
            <p class="bienvenue">Bienvenue dans la savane d'Afrique, un écosystème riche et varié où les animaux sauvages règnent en maîtres.</p> <br>
            <section class="savane">
                <div class="cartes-conteneur">

                    <div class="card">
                        <div class="front">
                            <img src="image/savane/asian-elephant-2108974_1280.jpg" alt="Image de la savane">
                        </div>
                        <div class="back">
                            <p id="animal_name_1">Nom : </p>
                            <p id="species_1">Espèce : </p>
                            <p id="age_1">Âge : </p>
                            <p id="weight_1">Poids : </p>
                            <p id="food_1">Nourriture : </p>
                            <p id="last_meal_1">Dernier repas : </p>
                            <p id="food_quantity_1">Quantité de nourriture : </p>
                            <div class="likes-container"><br>
                                <button class="heart-btn" id="heart-1" onclick="likeAnimal(1)" title="Like"><i class="fas fa-heart"></i></button>
                                <span id="likes-1" class="likes-counter" data-animal-id="1">0</span> likes
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="front">
                            <img src="image/savane/animal-2407297_1280.jpg" alt="Image de la savane">
                        </div>
                        <div class="back">
                            <p id="animal_name_2">Nom : </p>
                            <p id="species_2">Espèce : </p>
                            <p id="age_2">Âge : </p>
                            <p id="weight_2">Poids : </p>
                            <p id="food_2">Nourriture : </p>
                            <p id="last_meal_2">Dernier repas : </p>
                            <p id="food_quantity_2">Quantité de nourriture : </p>
                            <div class="likes-container"><br>
                                <button class="heart-btn" id="heart-2" onclick="likeAnimal(2)" title="Like"><i class="fas fa-heart"></i></button>
                                <span id="likes-2" class="likes-counter" data-animal-id="2">0</span> likes
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="front">
                            <img src="image/savane/animal-396289_1280.jpg" alt="Image de la savane">
                        </div>
                        <div class="back">
                            <p id="animal_name_3">Nom : </p>
                            <p id="species_3">Espèce : </p>
                            <p id="age_3">Âge : </p>
                            <p id="weight_3">Poids : </p>
                            <p id="food_3">Nourriture : </p>
                            <p id="last_meal_3">Dernier repas : </p>
                            <p id="food_quantity_3">Quantité de nourriture : </p>
                            <div class="likes-container"><br>
                                <button class="heart-btn" id="heart-3" onclick="likeAnimal(3)" title="Like"><i class="fas fa-heart"></i></button>
                                <span id="likes-3" class="likes-counter" data-animal-id="3">0</span> likes
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="front">
                            <img src="image/savane/Design sans titre (17).png" alt="Image de la savane">
                        </div>
                        <div class="back">
                            <p id="animal_name_4">Nom : </p>
                            <p id="species_4">Espèce : </p>
                            <p id="age_4">Âge : </p>
                            <p id="weight_4">Poids : </p>
                            <p id="food_4">Nourriture : </p>
                            <p id="last_meal_4">Dernier repas : </p>
                            <p id="food_quantity_4">Quantité de nourriture : </p>
                            <div class="likes-container"><br>
                                <button class="heart-btn" id="heart-4" onclick="likeAnimal(4)" title="Like"><i class="fas fa-heart"></i></button>
                                <span id="likes-4" class="likes-counter" data-animal-id="4">0</span> likes
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="front">
                            <img src="image/savane/giraffe.jpg" alt="Image de la savane">
                        </div>
                        <div class="back">
                            <p id="animal_name_5">Nom : </p>
                            <p id="species_5">Espèce : </p>
                            <p id="age_5">Âge : </p>
                            <p id="weight_5">Poids : </p>
                            <p id="food_5">Nourriture : </p>
                            <p id="last_meal_5">Dernier repas : </p>
                            <p id="food_quantity_5">Quantité de nourriture : </p>
                            <div class="likes-container"><br>
                                <button class="heart-btn" id="heart-5" onclick="likeAnimal(5)" title="Like Animal 5"><i class="fas fa-heart"></i></button>
                                <span id="likes-5" class="likes-counter" data-animal-id="5">0</span> likes
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="front">
                            <img src="image/savane/simba.jpg" alt="Image de la savane">
                        </div>
                        <div class="back">
                            <p id="animal_name_6">Nom : </p>
                            <p id="species_6">Espèce : </p>
                            <p id="age_6">Âge : </p>
                            <p id="weight_6">Poids : </p>
                            <p id="food_6">Nourriture : </p>
                            <p id="last_meal_6">Dernier repas : </p>
                            <p id="food_quantity_6">Quantité de nourriture : </p>
                            <div class="likes-container"><br>
                                <button class="heart-btn" id="heart-6" onclick="likeAnimal(6)" title="Like Animal 6"><i class="fas fa-heart"></i></button>
                                <span id="likes-6" class="likes-counter" data-animal-id="6">0</span> likes
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="front">
                            <img src="image/savane/mandrill-monkey-7514702_1280.jpg" alt="Image de la savane">
                        </div>
                        <div class="back">
                            <p id="animal_name_7">Nom : </p>
                            <p id="species_7">Espèce : </p>
                            <p id="age_7">Âge : </p>
                            <p id="weight_7">Poids : </p>
                            <p id="food_7">Nourriture : </p>
                            <p id="last_meal_7">Dernier repas : </p>
                            <p id="food_quantity_7">Quantité de nourriture : </p>
                            <div class="likes-container"><br>
                                <button class="heart-btn" id="heart-7" onclick="likeAnimal(7)" title="Like Animal 7"><i class="fas fa-heart"></i></button>
                                <span id="likes-7" class="likes-counter" data-animal-id="7">0</span> likes
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="front">
                            <img src="image/savane/ostrich-8579501_1280.webp" alt="Image de la savane">
                        </div>
                        <div class="back">
                            <p id="animal_name_8">Nom : </p>
                            <p id="species_8">Espèce : </p>
                            <p id="age_8">Âge : </p>
                            <p id="weight_8">Poids : </p>
                            <p id="food_8">Nourriture : </p>
                            <p id="last_meal_8">Dernier repas : </p>
                            <p id="food_quantity_8">Quantité de nourriture : </p>
                            <div class="likes-container"><br>
                                <button class="heart-btn" id="heart-8" onclick="likeAnimal(8)" title="Like Animal 8"><i class="fas fa-heart"></i></button>
                                <span id="likes-8" class="likes-counter" data-animal-id="8">0</span> likes
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="front">
                            <img src="image/savane/lemurs-1010643_1280.jpg" alt="Image de la savane">
                        </div>
                        <div class="back">
                            <p id="animal_name_9">Nom : </p>
                            <p id="species_9">Espèce : </p>
                            <p id="age_9">Âge : </p>
                            <p id="weight_9">Poids : </p>
                            <p id="food_9">Nourriture : </p>
                            <p id="last_meal_9">Dernier repas : </p>
                            <p id="food_quantity_9">Quantité de nourriture : </p>
                            <div class="likes-container"><br>
                                <button class="heart-btn" id="heart-9" onclick="likeAnimal(9)" title="Like Animal 9"><i class="fas fa-heart"></i></button>
                                <span id="likes-9" class="likes-counter" data-animal-id="9">0</span> likes
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="front">
                            <img src="image/savane/year-end_giving_hero.jpg" alt="Image de la savane">
                        </div>
                        <div class="back">
                            <p id="animal_name_10">Nom : </p>
                            <p id="species_10">Espèce : </p>
                            <p id="age_10">Âge : </p>
                            <p id="weight_10">Poids : </p>
                            <p id="food_10">Nourriture : </p>
                            <p id="last_meal_10">Dernier repas : </p>
                            <p id="food_quantity_10">Quantité de nourriture : </p>
                            <div class="likes-container"><br>
                                <button class="heart-btn" id="heart-10" onclick="likeAnimal(10)" title="Like Animal 10"><i class="fas fa-heart"></i></button>
                                <span id="likes-10" class="likes-counter" data-animal-id="10">0</span> likes
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="front">
                            <img src="image/savane/zebras-4258909_1280.jpg" alt="Image de la savane">
                        </div>
                        <div class="back">
                            <p id="animal_name_11">Nom : </p>
                            <p id="species_11">Espèce : </p>
                            <p id="age_11">Âge : </p>
                            <p id="weight_11">Poids : </p>
                            <p id="food_11">Nourriture : </p>
                            <p id="last_meal_11">Dernier repas : </p>
                            <p id="food_quantity_11">Quantité de nourriture : </p>
                            <div class="likes-container"><br>
                                <button class="heart-btn" id="heart-11" onclick="likeAnimal(11)" title="Like Animal 11"><i class="fas fa-heart"></i></button>
                                <span id="likes-11" class="likes-counter" data-animal-id="11">0</span> likes
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <script src="likes.js"></script>
        <script>    document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM entièrement chargé et analysé');
            fetchAnimalData();
        });
    
        function fetchAnimalData() {
            console.log('Appel à fetchAnimalData');
            fetch('http://localhost:3000/animal')
                .then(response => {
                    console.log('Réponse reçue du serveur');
                    return response.json();
                })
                .then(data => {
                    console.log('Données reçues:', data);
                    data.forEach((animal) => {
                        const cardIndex = animal.id;
                        console.log(`Mise à jour de la carte ${cardIndex}`);
                        const animalNameElement = document.getElementById(`animal_name_${cardIndex}`);
                        const speciesElement = document.getElementById(`species_${cardIndex}`);
                        const ageElement = document.getElementById(`age_${cardIndex}`);
                        const weightElement = document.getElementById(`weight_${cardIndex}`);
                        const foodElement = document.getElementById(`food_${cardIndex}`);
                        const lastMealElement = document.getElementById(`last_meal_${cardIndex}`);
                        const foodQuantityElement = document.getElementById(`food_quantity_${cardIndex}`);
    
                        if (animalNameElement && speciesElement && ageElement && weightElement && foodElement && lastMealElement && foodQuantityElement) {
                            animalNameElement.innerText = `Nom : ${animal.animal_name}`;
                            speciesElement.innerText = `Espèce : ${animal.species}`;
                            ageElement.innerText = `Âge : ${animal.age}`;
                            weightElement.innerText = `Poids : ${animal.weight}`;
                            foodElement.innerText = `Nourriture : ${animal.food}`;
                            lastMealElement.innerText = `Dernier repas : ${animal.last_meal}`;
                            foodQuantityElement.innerText = `Quantité de nourriture : ${animal.food_quantity}`;
                        } else {

                        }
                    });
                })
                .catch(error => console.error('Erreur:', error));
        }
        </script>

            <div style="text-align: center; margin-top: 20px;">
                <a href="habitat.html" class="btn retour">Retour</a>
            </div>

            <footer>
                <div class="container">
                    <div class="row">
                        <div class="col-md-4 col-sm-4 col-xs-12">
                        <h3 class="text-uppercase">À propos de nous</h3>
                            <p class="text-muted">Zoo-Arcadia est un parc zoologique situé en Bretagne, près de la forêt de Brocéliande. Nous sommes dédiés à la conservation de la biodiversité et au bien-être animal.</p>
                        <br><h3 class="text-uppercase">Horaires d'ouverture</h3>
                        <p class="text-muted">Du Mardi au  Dimanche de 9h à 18h30</p>
                        <p class="text-muted">Ainsi que les jours fériers</p>
                        </div>
                        <div class="col-md-4 col-sm-4 col-xs-12">
                            <h3 class="text-uppercase">Liens utiles</h3>
                            <ul class="list-unstyled">
                                <li><a href="service.html">Nos services</a></li>
                                <li><a href="habitat.html">Nos habitats</a></li>
                                <li><a href="contact.html">Nous contacter</a></li>
                            </ul>
                        </div>
                        <div class="col-md-4 col-sm-4 col-xs-12">
                            <h3 class="text-uppercase">Nos coordonnées</h3>
                            <ul class="list-unstyled">
                                <li>Adresse : Zoo-Arcadia, Route de Brocéliande, 35300 Rennes, France</li>
                                <li>Téléphone : 02 99 99 99 99</li>
                                <li>Email : contact@zoo-arcadia.fr</li>
                            </ul>
                        </div>
                    </div>
                    <p class="copyright text-muted">&copy; 2024 Zoo-Arcadia. Tous droits réservés. Créé par <a href="https://codelinky.com">C@deLinky</a></p>
                </div>
            </footer>
    </body>
</html>